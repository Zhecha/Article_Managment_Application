{"ast":null,"code":"var _jsxFileName = \"/media/user/HDD/taskList/client/src/components/ModalArticle.js\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from 'react-bootstrap/Button';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { token } from './Token';\nimport withNoUser from './withNoUser';\nimport { getArticle, updateShow } from '../redux/actions/ArticleActions';\nimport * as route from '../constants/routes';\nimport * as func from '../functions/functions';\n\nclass ModalArticle extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleClose = this.handleClose.bind(this);\n  }\n\n  handleClose() {\n    this.props.updateShow(false);\n\n    if (this.props.location.search.length) {\n      const query = func.queryParse(this.props.location.search);\n\n      if (query.view && !query.page && !query.limit) {\n        if (!query.sort) {\n          this.props.history.push(route.ARTICLE_LIST);\n        } else {\n          this.props.history.push(route.pageArticleRouteSort(query.sort, query.by));\n        }\n      } else if (query.view && query.limit && !query.page) {\n        if (!query.sort) {\n          this.props.history.push(route.pageArticleRouteLimit(query.limit));\n        } else {\n          this.props.history.push(route.pageArticleLimitRouteWithSort(query.limit, query.sort, query.by));\n        }\n      } else {\n        if (!query.sort) {\n          this.props.history.push(route.pageArticleRoute(query.page, query.limit));\n        } else {\n          this.props.history.push(route.pageArticleRouteWithSort(query.page, query.limit, query.sort, query.by));\n        }\n      }\n    } else {\n      this.props.history.goBack();\n    }\n  }\n\n  async componentDidMount() {\n    try {\n      const gettedToken = token.getToken();\n      const query = func.queryParse(this.props.location.search);\n      await this.props.getArticle(gettedToken, query.view);\n      this.props.updateShow(true);\n    } catch (error) {\n      if (error.isInvalidToken) {\n        token.logout();\n        this.props.history.push(route.SIGN_IN);\n      } else {\n        console.log(error);\n      }\n    }\n  }\n\n  render() {\n    return React.createElement(Modal, {\n      show: this.props.show,\n      history: this.props.history,\n      onHide: this.handleClose,\n      size: \"lg\",\n      \"aria-hidden\": false,\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      id: \"contained-modal-title-vcenter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Article\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Title: \", this.props.article.title), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Body: \", this.props.article.body), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"DateCreated: \", this.props.article.dateCreated), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"DateUpdated: \", this.props.article.dateUpdated), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Creator: \", this.props.article.creator), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Property: \", this.props.article.property)), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Close\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    article: state.article.data\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getArticle: (token, id) => dispatch(getArticle(token, id)),\n    updateShow: isShow => dispatch(updateShow(isShow))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withNoUser(ModalArticle));","map":{"version":3,"sources":["/media/user/HDD/taskList/client/src/components/ModalArticle.js"],"names":["Modal","Button","React","connect","token","withNoUser","getArticle","updateShow","route","func","ModalArticle","Component","constructor","props","handleClose","bind","location","search","length","query","queryParse","view","page","limit","sort","history","push","ARTICLE_LIST","pageArticleRouteSort","by","pageArticleRouteLimit","pageArticleLimitRouteWithSort","pageArticleRoute","pageArticleRouteWithSort","goBack","componentDidMount","gettedToken","getToken","error","isInvalidToken","logout","SIGN_IN","console","log","render","show","article","title","body","dateCreated","dateUpdated","creator","property","mapStateToProps","state","data","mapDispatchToProps","dispatch","id","isShow"],"mappings":"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","sourcesContent":["import Modal from \"react-bootstrap/Modal\";\nimport Button from 'react-bootstrap/Button';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport {token} from './Token';\nimport withNoUser from './withNoUser';\nimport {getArticle,updateShow} from '../redux/actions/ArticleActions';\nimport * as route from '../constants/routes';\nimport * as func from '../functions/functions';\n\nclass ModalArticle extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.handleClose = this.handleClose.bind(this);\n    }\n\n    handleClose() {\n        this.props.updateShow(false);\n        if(this.props.location.search.length){\n            const query = func.queryParse(this.props.location.search);\n            if(query.view && !query.page && !query.limit){\n                if(!query.sort){\n                    this.props.history.push(route.ARTICLE_LIST);\n                } else {\n                    this.props.history.push(route.pageArticleRouteSort(query.sort, query.by));\n                }\n            } else if(query.view && query.limit && !query.page) {\n                if(!query.sort){\n                    this.props.history.push(route.pageArticleRouteLimit(query.limit))\n                } else {\n                    this.props.history.push(route.pageArticleLimitRouteWithSort(query.limit, query.sort, query.by))\n                }\n            } else {\n                if(!query.sort){\n                    this.props.history.push(route.pageArticleRoute(query.page, query.limit))\n                } else {\n                    this.props.history.push(route.pageArticleRouteWithSort(query.page, query.limit, query.sort, query.by))\n                }\n            }   \n        } else {\n            this.props.history.goBack();\n        }\n    }\n\n    async componentDidMount() {\n        try {\n            const gettedToken = token.getToken();\n            const query = func.queryParse(this.props.location.search);\n            await this.props.getArticle(gettedToken, query.view);\n            this.props.updateShow(true);\n        } catch (error) {\n            if(error.isInvalidToken){\n                token.logout();\n                this.props.history.push(route.SIGN_IN);\n            } else {\n                console.log(error);\n            }\n        }\n    }\n\n    render() {\n        return (\n        <Modal\n            show={this.props.show}\n            history={this.props.history}\n            onHide={this.handleClose}\n            size=\"lg\"\n            aria-hidden={false}\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered\n        >\n            <Modal.Header closeButton>\n                <Modal.Title id=\"contained-modal-title-vcenter\">\n                    Article\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <h4>Title: {this.props.article.title}</h4>\n                <p>\n                    Body: {this.props.article.body}\n                </p>\n                <p>\n                    DateCreated: {this.props.article.dateCreated}\n                </p>\n                <p>\n                    DateUpdated: {this.props.article.dateUpdated}\n                </p>\n                <p>\n                    Creator: {this.props.article.creator}\n                </p>\n                <p>\n                    Property: {this.props.article.property}\n                </p>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button onClick={this.handleClose}>Close</Button>\n            </Modal.Footer>\n        </Modal>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        article: state.article.data\n    }\n};\n  \nconst mapDispatchToProps = (dispatch) => {\n    return {\n        getArticle: (token, id) => dispatch(getArticle(token, id)),\n        updateShow: (isShow) => dispatch(updateShow(isShow))\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withNoUser(ModalArticle));"]},"metadata":{},"sourceType":"module"}