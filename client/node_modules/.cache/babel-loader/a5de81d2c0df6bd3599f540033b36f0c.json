{"ast":null,"code":"import axios from 'axios';\nimport { token } from '../../components/Token';\nimport { updateUser } from './AppActions';\nexport const updateFields = (field, value) => {\n  return {\n    type: 'UPDATE_FIELD',\n    payload: {\n      field,\n      value\n    }\n  };\n};\n\nconst viewErrors = message => {\n  return {\n    type: 'VIEW_ERRORS',\n    payload: {\n      message: message\n    }\n  };\n};\n\nexport const signInOrSignUp = (url, obj) => {\n  return async function (dispatch) {\n    try {\n      const user = await axios.post(url, obj);\n      token.setToken(user.data.token);\n      dispatch(updateUser(user.data.user.id, user.data.user.login, user.data.user.email));\n    } catch (error) {\n      const message = error.response.data.message;\n      dispatch(viewErrors(message));\n      throw error;\n    }\n  };\n};","map":{"version":3,"sources":["/media/user/HDD/taskList/client/src/redux/actions/AuthActions.js"],"names":["axios","token","updateUser","updateFields","field","value","type","payload","viewErrors","message","signInOrSignUp","url","obj","dispatch","user","post","setToken","data","id","login","email","error","response"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,QAAoB,wBAApB;AACA,SAAQC,UAAR,QAA0B,cAA1B;AAEA,OAAO,MAAMC,YAAY,GAAG,CAACC,KAAD,EAAQC,KAAR,KAAkB;AAE1C,SAAO;AACHC,IAAAA,IAAI,EAAE,cADH;AAEHC,IAAAA,OAAO,EAAE;AACLH,MAAAA,KADK;AAELC,MAAAA;AAFK;AAFN,GAAP;AAOH,CATM;;AAWP,MAAMG,UAAU,GAAIC,OAAD,IAAa;AAE5B,SAAO;AACHH,IAAAA,IAAI,EAAE,aADH;AAEHC,IAAAA,OAAO,EAAG;AACNE,MAAAA,OAAO,EAAEA;AADH;AAFP,GAAP;AAMH,CARD;;AAUA,OAAO,MAAMC,cAAc,GAAG,CAACC,GAAD,EAAMC,GAAN,KAAc;AAExC,SAAO,gBAAeC,QAAf,EAAyB;AAC5B,QAAI;AACA,YAAMC,IAAI,GAAG,MAAMd,KAAK,CAACe,IAAN,CAAWJ,GAAX,EAAgBC,GAAhB,CAAnB;AACAX,MAAAA,KAAK,CAACe,QAAN,CAAeF,IAAI,CAACG,IAAL,CAAUhB,KAAzB;AACAY,MAAAA,QAAQ,CAACX,UAAU,CAACY,IAAI,CAACG,IAAL,CAAUH,IAAV,CAAeI,EAAhB,EAAoBJ,IAAI,CAACG,IAAL,CAAUH,IAAV,CAAeK,KAAnC,EAA0CL,IAAI,CAACG,IAAL,CAAUH,IAAV,CAAeM,KAAzD,CAAX,CAAR;AACH,KAJD,CAIE,OAAOC,KAAP,EAAc;AACZ,YAAMZ,OAAO,GAAGY,KAAK,CAACC,QAAN,CAAeL,IAAf,CAAoBR,OAApC;AACAI,MAAAA,QAAQ,CAACL,UAAU,CAACC,OAAD,CAAX,CAAR;AACA,YAAMY,KAAN;AACH;AACJ,GAVD;AAWH,CAbM","sourcesContent":["import axios from 'axios';\nimport {token} from '../../components/Token';\nimport {updateUser}  from './AppActions';\n\nexport const updateFields = (field, value) => {\n\n    return {\n        type: 'UPDATE_FIELD',\n        payload: {\n            field,\n            value\n        }\n    }\n}\n\nconst viewErrors = (message) => {\n \n    return {\n        type: 'VIEW_ERRORS',\n        payload : {\n            message: message\n        }\n    }\n}\n\nexport const signInOrSignUp = (url, obj) => { \n\n    return async function(dispatch) {\n        try {\n            const user = await axios.post(url, obj);\n            token.setToken(user.data.token);\n            dispatch(updateUser(user.data.user.id, user.data.user.login, user.data.user.email));\n        } catch (error) {\n            const message = error.response.data.message;\n            dispatch(viewErrors(message));\n            throw error\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}